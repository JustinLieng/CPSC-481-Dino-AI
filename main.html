<!DOCTYPE html>
<html>
    <head>
        <title>How To Train Your T-Rex</title>
        <meta charset="utf-8">
    </head>
    <div>
        Our AI will learn how to approach obstacles in the Chrome Dino Game and learn how to play the game on its own.
    </div>
    <body>
        <div id="stage" style="margin: 0 auto; width: 840px; height: 450px; text-align: center; vertical-align: middle" >
            <!-- The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly. -->
            <canvas id="canvas" style="border:0px solid blue;" width="840" height="450">
                Canvas Not Supported
            </canvas>
        </div>
        <input type="range" id = "slider" min = "1" max = "100" onchange = "changeInterval()">
        <output id="sliderVal"></output>
        <script type="text/javascript" src = "./Matrix.js"></script>
        <script type="text/javascript" src = "./Genetic External Algorithms.js"></script>
        <script type="text/javascript" src = "./Obstacles.js"></script>
        <script type="text/javascript" src = "./VisualizeData.js"></script>
        <script type="text/javascript" src = "./Player Object.js"></script>
        <script type="text/javascript" src="./GenerateClouds.js"></script>
        <script type="text/javascript">

		// Get canvas (Setting up environment)
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');

		// Get images (Declare variables as an image and then initialize its source to an image from the images folder.)
		var ground = new Image();
		ground.src = "./img/Ground.png";
		var sky = new Image();
		sky.src = "./img/Sky.png";

        // Declare and initialize dinosaur actions
        var dinoRun = [];//48 x 56
		dinoRun[0] = new Image();
		dinoRun[0].src = "./img/dinorun1.png";
		dinoRun[1] = new Image();
		dinoRun[1].src = "./img/dinorun2.png";
		var dinoDuck = [];//68 x 34
		dinoDuck[0] = new Image();
		dinoDuck[0].src = "./img/dinoduck1.png";
		dinoDuck[1] = new Image();
		dinoDuck[1].src = "./img/dinoduck2.png";
		var dinoJump = new Image();//48 x 50
		dinoJump.src = "./img/dinoJump.png";
		var dinoDead = new Image();
		dinoDead.src = "./img/dinoDead.png";

        var cactusBig = new Image();//30 x 60
		cactusBig.src = "./img/cactusBig.png";
		var cactusSmall = new Image();//23 x 45
		cactusSmall.src = "./img/cactusSmall.png";
		var cactusSmallMany = new Image();//72 x 48
		cactusSmallMany.src = "./img/cactusSmallMany.png";

		var cloud = new Image();
		cloud.src = "./img/cloud.png"

		var bird = [];
		bird[0] = new Image();
		bird[0].src = "./img/berd.png";
		bird[1] = new Image();
		bird[1].src = "./img/berd2.png";

		var neuron = new Image();
		neuron.src = "./img/neuron.png";

        var targetScore = 1000;
		const groundLevel = 340;
		var interval = 10;
		var speed = 3;
		var obstacles = [];
		var clouds = [];
		var cloudsOn = true;//Clouds are just for looks so you can turn if off to save computing power
		const minimunGap = 150;
		var hold = 0;
		var score = 0;
		var gen = 1;
		var highest = 0;
		const font = "20px Arial";

		var population = [];
		var championSaves = [];
		var player = null; //The replaying player
		var ifDone = false; //If the target is achieved or not
		var champion = null;
		var championIndex = 0;
		var fitnesses = [];
		var sum = 0;
		var popSize = 100;
		const inputNodes = 6;
		const hiddenNodes = 6;
		const outputNodes = 3;//3 decisions - run, jump, duck
		var mutateRate = 0.15;

		var isReplay = false;
		var replayGen = 0;
		var bot = new Bot();
		var isBot = false;

        window.onload = function(){
			setup();
			loop();
		}

        function setup(){
            // .
		}

        </script>
    </body>
</html>